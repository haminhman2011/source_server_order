var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,f,e){a instanceof String&&(a=String(a));for(var h=a.length,k=0;k<h;k++){var p=a[k];if(f.call(e,p,k,a))return{i:k,v:p}}return{i:-1,v:void 0}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,f,e){if(e.get||e.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[f]=e.value)};
$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(a,f,e,h){if(f){e=$jscomp.global;a=a.split(".");for(h=0;h<a.length-1;h++){var k=a[h];k in e||(e[k]={});e=e[k]}a=a[a.length-1];h=e[a];f=f(h);f!=h&&null!=f&&$jscomp.defineProperty(e,a,{configurable:!0,writable:!0,value:f})}};
$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,e){return $jscomp.findInternal(this,a,e).v}},"es6-impl","es3");
var Message=function(a){return"vi"===a("html").attr("lang")?{validateInput:"Vui l\u00f2ng nh\u1eadp gi\u00e1 tr\u1ecb.",validateSelect:"Vui l\u00f2ng ch\u1ecdn gi\u00e1 tr\u1ecb.",validateEmail:"Email kh\u00f4ng h\u1ee3p l\u1ec7.",validatePassword:"M\u1eadt kh\u1ea9u y\u1ebfu.",blockUI:"Vui l\u00f2ng \u0111\u1ee3i...",errorSummary:"Vui l\u00f2ng s\u1eeda c\u00e1c l\u1ed7i sau \u0111\u00e2y:",select2Placeholder:"Ch\u1ecdn",success:"Th\u00e0nh c\u00f4ng",warning:"C\u1ea3nh b\u00e1o",fail:"Th\u1ea5t b\u1ea1i"}:
{validateInput:"Please input value.",validateSelect:"Please select value.",validateEmail:"Email is invalid.",validatePassword:"Weak password.",blockUI:"Please wait...",errorSummary:"Please fix the following errors:",select2Placeholder:"Choose",success:"Success",warning:"Warning",fail:"Fail"}}(jQuery),Team=function(a){var f=a("html").attr("lang"),e=function(){a(document).on("hidden.bs.modal",function(){a(".modal:visible").length&&a("body").addClass("modal-open")});a(document).on("show.bs.modal",".modal",
function(){a(this).hasClass("modal-scroll")&&a("body").addClass("modal-open-noscroll")});a(document).on("hidden.bs.modal",".modal",function(){a("body").removeClass("modal-open-noscroll")});a(document).on("hidden.bs.modal",".modal:not(.modal-cached)",function(){a(this).removeData("bs.modal")})},h=function(){a.isFunction(a.fn.select2)&&(a.extend(!0,a.fn.select2.defaults.defaults,{width:"100%",allowClear:!0,placeholder:Message.select2Placeholder,theme:"bootstrap"}),a(".select").select2(),a.fn.select2Ajax=
function(b){var d={ajax:{url:b.url,dataType:"json",delay:50,data:function(c){var d={query:c.term,page:c.page};a.isFunction(b.data)&&(b.data(c),a.extend(d,c));return d},processResults:function(a,b){b.page=b.page||1;return{results:a.items,pagination:{more:10*b.page<=a.total_count}}},cache:!0},escapeMarkup:function(a){return a},minimumInputLength:b.hasOwnProperty("minimumInputLength")?b.minimumInputLength:0,templateResult:b.hasOwnProperty("templateResult")?b.templateResult:function(a){if(a.loading)return a.text;
var c=b.hasOwnProperty("column")?b.column:"";if(""!==c&&"undefined"!==typeof a[c])return"<div class='select2-result-repository clearfix'><div class='select2-result-repository__title'> "+a[c]+" </div>";if("undefined"!==typeof a.name)return"<div class='select2-result-repository clearfix'><div class='select2-result-repository__title'> "+a.name+" </div>";if("undefined"!==typeof a.code)return"<div class='select2-result-repository clearfix'><div class='select2-result-repository__title'> "+a.code+" </div>"},
templateSelection:b.hasOwnProperty("templateSelection")?b.templateSelection:function(a){var c=b.hasOwnProperty("column")?b.column:"",d=a.text;""!==c&&"undefined"!==typeof a[c]?d=a[c]:("undefined"!==typeof a.name&&(d=a.name),"undefined"!==typeof a.code&&(d=a.code));return d}};return this.select2(d)})},k=function(){if("object"===typeof toastr){var b={closeButton:!0,debug:!1,positionClass:"toast-top-right",newestOnTop:!0,onclick:null,showDuration:"1000",hideDuration:"1000",timeOut:"5000",extendedTimeOut:"1000",
showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"};a.fn.toast=function(a){if(a.hasOwnProperty("content")){var c=a.content;"success"===a.type?toastr.success(c,a.title,b):"error"===a.type?toastr.error(c,a.title,b):"warning"===a.type&&toastr.warning(c,a.title,b)}else"success"===a.type?(c=Message.success,toastr.success(c,a.title,b)):"error"===a.type?(c=Message.fail,toastr.error(c,a.title,b)):"warning"===a.type&&(c=Message.warning,toastr.warning(c,a.title,b))}}},p=function(){a.isFunction(a.fn.bt)&&
(a.fn.tooltip=function(b){b=void 0!==b?b.message:"";a(this).bt(b,{trigger:"none",clickAnywhereToClose:!1,positions:["top"],fill:"rgba(33, 33, 33, .9)",spikeLength:10,spikeGirth:10,cssStyles:{color:"#FFF",fontSize:"11px",textAlign:"justify",width:"auto"}}).btOn()})},r=function(){a(document).ajaxStop(function(){Team.unblockUI()});a(document).ajaxError(function(b,d){Team.unblockUI();500===d.status&&(console.log(a(d.responseText).text()),App.alert({type:"danger",icon:"warning",message:d.status+" - "+
d.statusText+" <br><pre> "+a(d.responseText).text()+" </pre>",place:"prepend"}))})},u=function(){if(a.isFunction(a.fn.dataTable)){var b={sLengthMenu:"Display _MENU_ records per page",sSearch:"Search:",oPaginate:{sFirst:"First",sPrevious:"Previous",sNext:"Next",sLast:"Last"},sEmptyTable:"No data available",sProcessing:"Loading...",sZeroRecords:"No matching records found",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",
sInfoPostFix:"",sUrl:""};"vi"===f&&(b={sEmptyTable:"Kh\u00f4ng c\u00f3 d\u1eef li\u1ec7u",sProcessing:"\u0110ang x\u1eed l\u00fd...",sLengthMenu:"Xem _MENU_ m\u1ee5c",sZeroRecords:"Kh\u00f4ng t\u00ecm th\u1ea5y d\u00f2ng n\u00e0o ph\u00f9 h\u1ee3p",sInfo:"\u0110ang xem _START_ \u0111\u1ebfn _END_ trong t\u1ed5ng s\u1ed1 _TOTAL_ m\u1ee5c",sInfoEmpty:"\u0110ang xem 0 \u0111\u1ebfn 0 trong t\u1ed5ng s\u1ed1 0 m\u1ee5c",sInfoFiltered:"(\u0111\u01b0\u1ee3c l\u1ecdc t\u1eeb _MAX_ m\u1ee5c)",sInfoPostFix:"",
sSearch:"T\u00ecm:",sUrl:"",oPaginate:{sFirst:"\u0110\u1ea7u",sPrevious:"Tr\u01b0\u1edbc",sNext:"Ti\u1ebfp",sLast:"Cu\u1ed1i"}});a.fn.dataTable.pipeline=function(b){var c=a.extend({pages:5,url:"",data:null,method:"POST"},b),d=-1,l=null,e=null,f=null;return function(b,q,g){var h=!1,m=b.start,k=b.start,n=b.length,t=m+n;if(g.clearCache)h=!0,g.clearCache=!1;else if(0>d||m<d||t>l)h=!0;else if(JSON.stringify(b.order)!==JSON.stringify(e.order)||JSON.stringify(b.columns)!==JSON.stringify(e.columns)||JSON.stringify(b.search)!==
JSON.stringify(e.search))h=!0;e=a.extend(!0,{},b);h?(m<d&&(m-=n*(c.pages-1),0>m&&(m=0)),d=m,l=m+n*c.pages,b.start=m,b.length=n*c.pages,a.isFunction(c.data)?(m=c.data(b))&&a.extend(b,m):a.isPlainObject(c.data)&&a.extend(b,c.data),g.jqXHR=a.ajax({type:c.method,url:c.url,data:b,dataType:"json",cache:!1,success:function(b){f=a.extend(!0,{},b);d!==k&&b.data.splice(0,k-d);b.data.splice(n,b.data.length);q(b)}})):(g=a.extend(!0,{},f),g.draw=b.draw,g.data.splice(0,m-d),g.data.splice(n,g.data.length),q(g))}};
a.fn.dataTable.Api.register("clearPipeline()",function(){Team.blockUI();return this.iterator("table",function(a){a.clearCache=!0})});a.extend(!0,a.fn.dataTable.defaults,{oLanguage:b,info:!1,lengthChange:!1,searching:!1,columnDefs:[{targets:[-1],searchable:!1,orderable:!1,visible:!0}],order:[],iDisplayLength:10,autoWidth:!1,processing:!1})}},v=function(){a(document).on("click",".cb-all",function(){var b=a(".cb-single"),d=b.parents("tr");a(this).is(":checked")?(b.prop("checked","checked"),d.addClass("warning")):
(b.prop("checked",""),d.removeClass("warning"))});a(document).on("click",".cb-single",function(){var b=a(".cb-single"),d=a(this).parents("tr"),c=a(".cb-all");a(this).is(":checked")?(d.addClass("warning"),b.length===a(".cb-single:checked").length?c.prop("checked","checked"):c.prop("checked","")):(d.removeClass("warning"),c.prop("checked",""))});a(document).on("change",".email, .require, .password",function(){if(!a(this).hasClass("no-validate")){var b=Team.validateElement(a(this));Team.addValidateTooltip(a(this),
b.hasError,b.message)}});a("input, textarea").focus(function(){a(this).select()})};return{init:function(){e();h();a.isFunction(a.fn.datepicker)&&(a.extend(!0,a.fn.datepicker.defaults,{format:"dd-mm-yyyy",autoclose:!0,orientation:"bottom left",todayHighlight:!0,language:f,todayBtn:!0}),a(".datepicker, .input-group.date").datepicker());a.isFunction(a.fn.timepicker)&&(a.extend(!0,a.fn.timepicker.defaults,{showMeridian:!1,explicitMode:!0,defaultTime:!1}),a(".timepicker, .input-group.time").timepicker({showMeridian:!1,
explicitMode:!0,defaultTime:!1}));a.isFunction(a.fn.alphanum)&&(a(".alphanum").alphanum({allow:"-_,./%#@()*"}),a(".email, .username").alphanum({allow:"@.-_"}),a(".address").alphanum({allow:".,/-"}),a(".number").numeric(),a(".string").alpha());k();p();"object"===typeof bootbox&&bootbox.setDefaults({locale:f,show:!0,backdrop:!0,closeButton:!0,animate:!0,className:"my-modal"});a.isFunction(a.blockUI)&&a.extend(!0,a.blockUI.defaults,{css:{border:"none",padding:"15px",backgroundColor:"#000","-webkit-border-radius":"10px",
"-moz-border-radius":"10px",opacity:.5,color:"#fff"},baseZ:99999});r();v();u()},blockUI:function(b){b=a.extend(!0,{},b);var d=void 0===b.message?Message.blockUI:b.message;if(b.target){var c=a(b.target);c.height()<=a(window).height()&&(b.cenrerY=!0);c.block({message:'<i class="fa fa-spinner fa-spin"></i> '+d,centerY:void 0!==b.cenrerY?b.cenrerY:!1,css:{top:"10%",border:"0",padding:"0",backgroundColor:"none"}})}else a.blockUI({message:'<i class="fa fa-spinner fa-spin"></i> '+d})},unblockUI:function(b){b?
a(b).unblock({onUnblock:function(){a(b).css("position","");a(b).css("zoom","")}}):a.unblockUI()},showModal:function(b,d,c){void 0===c&&(c=a("#modal_md"));Team.blockUI();return a.ajax({url:d,data:b,type:"GET",success:function(a){c.find(".modal-content").html(a);c.modal({backdrop:"static"})}})},getValues:function(b,d,c){if(void 0!==d)if(void 0!==c){if("int"===c)return _.map(a("."+b),function(b){return parseInt(a(b).attr("data-"+d))});if("float"===c)return _.map(a("."+b),function(b){return parseFloat(a(b).attr("data-"+
d))})}else return _.map(a("."+b),function(b){return a(b).attr("data-"+d)});if(void 0!==c){if("int"===c)return _.map(a("."+b),function(b){return parseInt(a(b).val())});if("float"===c)return _.map(a("."+b),function(b){return parseFloat(a(b).val())})}return _.map(a("."+b),function(b){return a(b).val()})},showErrorSummary:function(a){var b=Message.errorSummary,c="Error";try{c="<ul>";if("string"===typeof a)c+="<li> "+a+" </li>";else for(var e in a)a.hasOwnProperty(e)&&(c+="<li> "+a[e]+" </li>");c+="</ul>"}catch(l){c=
"Error"}finally{App.alert({type:"danger",icon:"warning",message:"<strong>"+b+"</strong> "+c,place:"prepend"}),App.scrollTop()}},addValidateTooltip:function(a,d,c){if(d)return a.is("select")?(a.select2("open"),a.next().find(".select2-selection").tooltip({message:c})):a.tooltip({message:c}),a.parents(".form-group").removeClass("has-success").addClass("has-error"),!1;a.is("select")?(a.next().find(".select2-selection").btOff(),a.parents(".form-group").removeClass("has-error").addClass("has-success")):
(a.parents(".form-group").removeClass("has-error").addClass("has-success"),a.btOff())},validateElement:function(b,d){var c="",e=!1,l=a.trim(b.val());if(b.hasClass("no-validate"))return{message:c,hasError:e};!b.hasClass("require")||""!==l&&null!==l||(c=Message.validateInput,b.is("select")&&(c=Message.validateSelect),e=!0);b.hasClass("email")&&""!==l&&null!==l&&null===l.match(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/)&&
(c=Message.validateEmail,e=!0);if(b.hasClass("password")&&0<l.length){var g=[];g.push("[A-Z]");g.push("[a-z]");g.push("[0-9]");g.push("[!@#$%^&*()_+=?></.,`~]");for(var f=0,n=0;n<g.length;n++)(new RegExp(g[n])).test(l)&&f++;2<f&&8<l.length&&f++;2>f&&(c=Message.validatePassword,e=!0)}if(void 0===d)return{message:c,hasError:e};this.addValidateTooltip(b,e,c)},validate:function(b){var d=this;a("#"+b).find(".form-control").each(function(){var b=d.validateElement(a(this)),e=b.hasError,b=b.message;d.addValidateTooltip(a(this),
e,b)});return 0===a(".has-error").length},action:function(b,d,c,e,f,g){f=void 0===f?"danger":f;g=void 0===g?"small":g;var h=b.data("id");void 0===e?(e={id:h},b.parents("tr").addClass(f),bootbox.confirm({size:g,message:d,callback:function(d){d?(d=b.data("url"),a.post(d,e,function(b){"success"===b?(a("body").toast({type:"success"}),c.clearPipeline().draw(!1),a(".cb-all").prop("checked",!1)):a("body").toast({type:"error"})})):b.parents("tr").removeClass(f)}})):(a(".cb-single:checked").each(function(){a(this).parents("tr").addClass(f)}),
void 0!==h&&(e.id=h),bootbox.confirm({size:g,message:d,callback:function(d){d?(d=b.data("url"),a.post(d,e,function(b){"success"===b?(a("body").toast({type:"success"}),c.clearPipeline().draw(!1),a(".cb-all").prop("checked",!1)):a("body").toast({type:"error"})})):b.parents("tr").removeClass(f)}}))},submitForm:function(b,d){Team.blockUI();return a.ajax({url:b,type:"POST",data:d,processData:!1,contentType:!1})}}}(jQuery);(function(){Team.init()})();
